//Creative Coding Final by Shipon Eunus
let spacegreenpurple; 
let angel;
let beam;
let four;
let theta=0;
let time;
let mcq;
let surroundvsion;
let seven;
let portal;
let five;
let one;
let eight; 
let angel1;
let angel2;
let song;
let gate;
let angel3;
let angel6;
let angel7;
function preload() {
spacegreenpurp = loadImage('spacegreenpurple.png');
angel = loadImage('angelpinkbluegreenchrome.png');
beam = loadImage('BEAMOG.png');
	four = loadImage('yinyangyen.png');
mcq = loadImage('Poster7.png');
	surroundvision = loadImage('surroundvsionV1.png');
	six =loadImage('7paradise.png');
	seven = loadImage('7concreteredwirfeame.png');
	portal= loadImage('portal.jpg');
	five = loadImage('CVLBAUHAUS3d.png');
	one = loadImage('Building1.png');
	eight = loadImage('eightbuilding.png');
	angel2 = loadImage('angelpinkbluegreenchromeleft.png');
	song = loadSound('NeonBlack.mp3');
	gate = loadImage('heavengate.jpg');
	angel3 = loadImage('angelpink_bluechromev13d.png');
	angel6 = loadImage('angel6.png');
	angel7 = loadImage('angel7.png');
}

function setup() {
	createCanvas(windowWidth,windowHeight, WEBGL);
	background(0);
	imageMode(CENTER);
  angel1 = new Angel();

}

function draw() {
//need to set up timing and figure out how to get one function to end when the next starts
//initial view of beam; need to do photography 
onearth();  
//on earth following beam while ominous part play; need to photography

//ominous to ending angel goes up
inspace();

//end of ominous part and it go on the beam transition
//transition going up stairway at gates; need to finish drawing steps


// when choir sing,interactive angels start rotating with user interaction
	gates();
//when choir going skitz gate appears and it gets bigger; need to write this part of code
	
// then go through different artworks make them hav depth; need to write this part of code
	
}
function gates(){
	push();
	scale(0.85, 0.4);
	image(gate, 0, 0);
	pop();
	push();
	scale(0.21);
	translate(-180, -150);
	image(six,0,0);
	pop();
	rotateZ(mouseX/88);
  angel1.display2();
}
//plays song when mouse pressed; need to figure out how to get it to play automatically
function mousePressed(){
	song.setVolume(9);
	song.play();
}

function onearth(){
scale(0.65);
image(angel, -500, 180);
scale(0.14);
image(beam,6000, -5000);
}

function inspace(){
time = millis();
	image(spacegreenpurp, 0, 0 , windowWidth, windowHeight);
push();
	scale(0.12, 0.17);
	image(beam,0, 0);
pop();
//creation of planets and their motions
push();
scale(0.13);
image(five, -30,-400);
pop();
	push();
  rotateX(time/550);
	rotateZ(time/550);
	texture(portal);
	 translate(220, -100, -100); //rotates translations
	sphere(100);
  pop();
push();
	rotateZ(time/550);
	scale(0.15);
image(seven, 1500, -1300);
	pop();
	push();
	rotateY(time/400);
rotateX(time/900);
scale(0.2);
image(one, 2000, -1000);	
pop();
push();
	rotateX(time/800);
	rotateZ(time/450);
	scale(0.16);
  image(eight,0,-1000);
	pop();
//object and methods used to move angel upwards
	push();
scale(0.45);
angel1.display();
angel1.update();
	pop();
}

function stairway(){
	//angel going up during song transition
}
// creates angel and movement 
class Angel{
	constructor(){
	  this.position = createVector(30,windowHeight);
    this.velocity = createVector();
    this.acceleration = createVector();
    this.topspeed = 5;
	}
	update(){
		  var mouse = createVector(0,-1000);
			this.acceleration = p5.Vector.sub(mouse, this.position);
		  //this.topspeed = 10;
		//	this.acceleration.setMag(0.4); 
		//	this.acceleration.mult(random(2));	
		
	this.velocity.add(this.acceleration);
		this.velocity.limit(this.topspeed);
    this.position.add(this.velocity);	
	}
	update2(){
		var mouse = createVector(1000,0);
		this.acceleration = p5.Vector.sub(mouse, this.position);
		this.velocity.add(this.acceleration);
		this.velocity.limit(this.topspeed);
    this.position.add(this.velocity);
	}
	display(){
	image(angel, this.position.x, this.position.y);
	}
  display2(){
	//creates new set of angels used during gates function
	translate(-90,0);
	scale(0.38);
	push();
	rotate(-160);
	image(angel3,1000 ,-100);
	pop();
	push();
	rotate(85);
	image(angel6,-400,700);
	pop();
	image(angel7,500,600);
}
}